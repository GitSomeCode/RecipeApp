<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Single Recipe</title>
	<!--[if IE]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
  <style>
    .fromtemplate {
      display: none;
    }
    
  </style>
</head>

<body id="home">

  <h2>viewing {{ object.title }}</h2>
  <p>Added on {{ object.pub_date | date:"l M d, Y - h:i:s A" }}</p>
  
  <div id="ingredients-error"></div>
  <p class="formtitles">Ingredients</p>
  <div id="ingredients">
    <input type="button" id="addIn" value="+"> <br> 
    {% for key, value in ingredList %}
      <div><input type="text" class="ingredientsField" value="{{ value }}" name="ingredients"><button class='delete fromtemplate'>remove</button></div>
    {% endfor %}
  </div>
  
  
  
  
  <div id="method-error"></div>
  <p class="formtitles">Method</p> 
  <div id="methods">
    <input type="button" id="addMd" value="+"> <br> 
    {% for key, value in methodList %}
      <div><input type="text" class="methodsField" value="{{ value }}" name="method"><button class='delete'>remove</button></div>
    {% endfor %}
    
  </div>
  
  <!--
  <ul>
    <h3>Tags</h3>
    {% for tag in object.tags.all %}
    <li>
      {{ tag.name }}
    </li>
    {% endfor %}
  </ul>
-->
 
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js" type="text/javascript"></script>
  
  <script text="text/javascript">
    
    function delButtons(f){
      $('#ingredients .delete')[0].remove();
      
      for(var i = 0; i<2; i++){
        $('#methods .delete')[0].remove();
      }
      if(f && typeof(f) == 'function')
        f();
    }
    
    function addField(id){
      $('#'+id).append("<div><input type='text' class='" + id + "Field' required><button class='delete'>remove</button></div>");
    }
  
    function deleteField(id){
      $(id).on('click', '.delete', function(e){
        $(this).parent('div').remove();
      });
    }
    
    $(document).ready(function(){
      delButtons(function(){
        $('.delete').show();
      });
      
      $('#addIn').click(function(e){
        addField('ingredients');
      });
    
      $('#addMd').click(function(e){
        addField('methods');
      });
      
      deleteField('#ingredients');
      deleteField('#methods');
      
    });
  </script>

</body>
</html>